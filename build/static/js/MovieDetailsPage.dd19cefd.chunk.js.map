{"version":3,"sources":["components/movie/Movie.module.css","pages/movieDetailsPage/movieDetailsPage.module.css","components/movie/Movie.js","nav/NavFromMovieDetailsPage.js","pages/movieDetailsPage/MovieDetailsPage.js"],"names":["module","exports","Movie","poster_path","title","overview","genres","percentage","vote_average","date","release_date","slice","className","styles","wrap","img","src","alt","text","map","genre","key","id","list","name","NavFromMovieDetailsPage","movieId","this","props","match","params","box","to","pathname","state","from","location","linkTwo","Component","withRouter","AsyncCast","lazy","AsyncReviews","MovieDetailsPage","film","handleGoBack","history","push","apiMovies","then","setState","console","log","btn","type","onClick","fallback","path","exact","component"],"mappings":"4HACAA,EAAOC,QAAU,CAAC,KAAO,oBAAoB,KAAO,oBAAoB,IAAM,mBAAmB,KAAO,sB,mBCAxGD,EAAOC,QAAU,CAAC,IAAM,gC,2HC4BTC,EAtBD,SAAC,GAA0E,IAAxEC,EAAuE,EAAvEA,YAAaC,EAA0D,EAA1DA,MAAOC,EAAmD,EAAnDA,SAAUC,EAAyC,EAAzCA,OACrCC,EAA4B,GADkD,EAAjCC,aAE7CC,EAF8E,EAAnBC,aAEvCC,MAAM,EAAG,GAEnC,OACI,oCACI,yBAAKC,UAAWC,IAAOC,MACnB,yBAAKF,UAAWC,IAAOE,IAAKC,IAAG,UATvB,mCASuB,OAAuBb,GAAec,IAAKb,IAC1E,6BACI,wBAAIQ,UAAWC,IAAOK,MAAOd,EAA7B,KAAsCK,EAAtC,KACA,0CAAgBF,EAAhB,KACA,wBAAIK,UAAWC,IAAOK,MAAtB,YACA,2BAAIb,GACJ,wBAAIO,UAAWC,IAAOK,MAAtB,UACCZ,EAAOa,KAAI,SAAAC,GAAK,OAAK,uBAAGC,IAAKD,EAAME,GAAIV,UAAWC,IAAOU,MAApC,KAA6CH,EAAMI,a,uBCjBvFC,E,uKAGE,IAAMC,EAAUC,KAAKC,MAAMC,MAAMC,OAAOJ,QAExC,OACI,oCACI,wBAAId,UAAWC,IAAOkB,KAClB,4BACI,kBAAC,IAAD,CAAMC,GAAI,CACNC,SAAS,UAAD,OAAYP,EAAZ,SACRQ,MAAO,CAAEC,KAAMR,KAAKC,MAAMQ,WAE1BxB,UAAWC,IAAOwB,SAJtB,SAMJ,4BACI,kBAAC,IAAD,CAAML,GAAI,CACNC,SAAS,UAAD,OAAYP,EAAZ,YACRQ,MAAO,CAAEC,KAAMR,KAAKC,MAAMQ,WAE1BxB,UAAWC,IAAOwB,SAJtB,kB,GAhBcC,aAgCvBC,cAAWd,G,iBC7BpBe,EAAYC,gBAAK,kBACnB,gCAGEC,EAAeD,gBAAK,kBACtB,gCAMEE,E,4MACFT,MAAQ,CACJU,KAAM,M,EAQVC,aAAe,WAAO,IACVX,EAAU,EAAKN,MAAMQ,SAArBF,MACJA,EACA,EAAKN,MAAMkB,QAAQC,KAAKb,EAAMC,MAGlC,EAAKP,MAAMkB,QAAQC,KAAK,CACpBd,SAAU,O,kEAZG,IAAD,OACVX,EAAoBK,KAAKC,MARDC,MAAMC,OAAOJ,QAS3CsB,IAAwB1B,GAAI2B,MAAK,SAAAL,GAAI,OAAI,EAAKM,SAAS,CAAEN,c,+BAcnD,IACEA,EAASjB,KAAKO,MAAdU,KAKR,OAJIA,GACAO,QAAQC,IAAI,QAASR,GAIrB,6BACI,4BAAQhC,UAAWC,IAAOwC,IAAKC,KAAK,SAASC,QAAS5B,KAAKkB,cAA3D,kBACCD,GAAQ,kBAAC,EAAUA,GACpB,qDACA,kBAAC,EAAD,MACA,kBAAC,WAAD,CAAUY,SAAU,2CAChB,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAOC,KAAI,UAAK9B,KAAKC,MAAMC,MAAM4B,KAAtB,SAAmCC,OAAK,EAACC,UAAWnB,IAC/D,kBAAC,IAAD,CAAOiB,KAAI,UAAK9B,KAAKC,MAAMC,MAAM4B,KAAtB,YAAsCE,UAAWjB,W,GApCrDJ,aA6ChBK","file":"static/js/MovieDetailsPage.dd19cefd.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"Movie_wrap__geHDk\",\"text\":\"Movie_text__1T0qv\",\"img\":\"Movie_img__ScBuS\",\"list\":\"Movie_list__2vE6s\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"movieDetailsPage_btn__4m0u3\"};","import React from 'react';\r\nimport styles from './Movie.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\n\r\nconst baseUrlForImage = 'https://image.tmdb.org/t/p/w185'\r\n\r\nconst Movie = ({ poster_path, title, overview, genres, vote_average, release_date }) => {\r\n    const percentage = vote_average * 10;\r\n    const date = release_date.slice(0, 4)\r\n\r\n    return (\r\n        <>\r\n            <div className={styles.wrap}>\r\n                <img className={styles.img} src={`${baseUrlForImage}${poster_path}`} alt={title} />\r\n                <div>\r\n                    <h3 className={styles.text}>{title} ({date})</h3>\r\n                    <p>User Score: {percentage}%</p>\r\n                    <h3 className={styles.text}>Overview</h3>\r\n                    <p>{overview}</p>\r\n                    <h3 className={styles.text}>Genres</h3>\r\n                    {genres.map(genre => (<p key={genre.id} className={styles.list}>  {genre.name}</p>))}\r\n\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Movie;\r\n\r\nMovie.propTypes = {\r\n    poster_path: PropTypes.string.isRequired,\r\n    title: PropTypes.string.isRequired,\r\n    overview: PropTypes.string,\r\n    genres: PropTypes.arrayOf(PropTypes.shape({\r\n        id: PropTypes.number,\r\n        name: PropTypes.string,\r\n    })),\r\n    vote_average: PropTypes.number.isRequired,\r\n    release_date: PropTypes.string.isRequired\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport styles from './Nav.module.css';\r\n\r\nclass NavFromMovieDetailsPage extends Component {\r\n\r\n    render() {\r\n        const movieId = this.props.match.params.movieId\r\n\r\n        return (\r\n            <>\r\n                <ul className={styles.box}>\r\n                    <li>\r\n                        <Link to={{\r\n                            pathname: `/movie/${movieId}/cast`,\r\n                            state: { from: this.props.location },\r\n                        }}\r\n                            className={styles.linkTwo}>Cast</Link>\r\n                    </li>\r\n                    <li>\r\n                        <Link to={{\r\n                            pathname: `/movie/${movieId}/reviews`,\r\n                            state: { from: this.props.location },\r\n                        }}\r\n                            className={styles.linkTwo}>Reviews</Link>\r\n                    </li>\r\n                </ul>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\nexport default withRouter(NavFromMovieDetailsPage);","import React, { Component, lazy, Suspense } from 'react';\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport * as apiMovies from '../../services/apiMovies';\r\nimport Movie from '../../components/movie/Movie';\r\nimport NavFromMovieDetailsPage from '../../nav/NavFromMovieDetailsPage';\r\nimport styles from './movieDetailsPage.module.css';\r\n\r\nconst AsyncCast = lazy(() =>\r\n    import('../cast/Cast' /* webpackChunkName: \"Cast\" */),\r\n);\r\n\r\nconst AsyncReviews = lazy(() =>\r\n    import('../reviews/Reviews' /* webpackChunkName: \"Reviews\" */),\r\n);\r\n\r\n\r\nconst getIdFromProps = props => props.match.params.movieId;\r\n\r\nclass MovieDetailsPage extends Component {\r\n    state = {\r\n        film: null\r\n    }\r\n\r\n    componentDidMount() {\r\n        const id = getIdFromProps(this.props)\r\n        apiMovies.getFilmWithId(id).then(film => this.setState({ film }))\r\n    }\r\n\r\n    handleGoBack = () => {\r\n        const { state } = this.props.location;\r\n        if (state) {\r\n            this.props.history.push(state.from);\r\n            return;\r\n        }\r\n        this.props.history.push({\r\n            pathname: '/'\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const { film } = this.state\r\n        if (film) {\r\n            console.log('film:', film)\r\n\r\n        }\r\n        return (\r\n            <div>\r\n                <button className={styles.btn} type=\"button\" onClick={this.handleGoBack}>&lArr; Go back</button>\r\n                {film && <Movie {...film} />}\r\n                <p>Additional information</p>\r\n                <NavFromMovieDetailsPage />\r\n                <Suspense fallback={<h2>Loading...</h2>}>\r\n                    <Switch>\r\n                        <Route path={`${this.props.match.path}/cast`} exact component={AsyncCast} />\r\n                        <Route path={`${this.props.match.path}/reviews`} component={AsyncReviews} />\r\n                    </Switch>\r\n                </Suspense>\r\n\r\n            </div >\r\n        )\r\n    }\r\n}\r\n\r\nexport default MovieDetailsPage;\r\n"],"sourceRoot":""}